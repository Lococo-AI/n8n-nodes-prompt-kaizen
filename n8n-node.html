<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>n8n Node Documentation - Prompt Kaizen</title>
  <meta name="description" content="Documentation for the Prompt Kaizen n8n community node. Get prompts, submit feedback, and build continuous improvement loops.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="raccoon.svg" type="image/svg+xml">
</head>
<body>

  <!-- Navigation -->
  <nav class="nav">
    <div class="nav-inner">
      <a href="index.html" class="nav-brand">
        <img src="raccoon.svg" alt="Prompt Kaizen">
        Prompt Kaizen
      </a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="n8n-node.html" class="active">n8n Node</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero container" style="padding-bottom: 2rem;">
    <h1 style="font-size: clamp(2rem, 4vw, 3rem);">n8n Community Node</h1>
    <p class="subtitle">Prompt Kaizen for n8n</p>
    <p class="description">Use prompts with version control and submit feedback directly from your n8n workflows.</p>
    <div style="display: flex; gap: 0.75rem; justify-content: center; flex-wrap: wrap;">
      <span class="badge">n8n &ge; 1.0.0</span>
      <span class="badge badge-primary">v0.1.3</span>
      <span class="badge">MIT License</span>
    </div>
  </section>

  <!-- Doc Content -->
  <section class="section">
    <div class="container doc-content">

      <h2 id="installation">Installation</h2>
      <p>Install via the n8n community nodes UI:</p>
      <div class="steps">
        <div class="step">
          <div class="step-content">Open <strong>Settings &rarr; Community Nodes</strong> in your n8n instance</div>
        </div>
        <div class="step">
          <div class="step-content">Search for <code>@lococo-ai/n8n-nodes-prompt-kaizen</code></div>
        </div>
        <div class="step">
          <div class="step-content">Click <strong>Install</strong> and confirm</div>
        </div>
      </div>
      <p>Or install via CLI:</p>
      <pre><code>npm install @lococo-ai/n8n-nodes-prompt-kaizen</code></pre>
      <p>For more details, see the <a href="https://docs.n8n.io/integrations/community-nodes/installation/">n8n community nodes installation guide</a>.</p>

      <h2 id="credentials">Credentials</h2>
      <p>To use this node, you need a Prompt Kaizen account with API access.</p>
      <div class="steps">
        <div class="step">
          <div class="step-content">Sign up at <a href="https://lococo.ai">lococo.ai</a></div>
        </div>
        <div class="step">
          <div class="step-content">Generate an API key from the prompt kaizen settings</div>
        </div>
        <div class="step">
          <div class="step-content">In n8n, create new <strong>Prompt Kaizen API</strong> credentials</div>
        </div>
      </div>

      <table>
        <thead>
          <tr><th>Field</th><th>Description</th><th>Default</th></tr>
        </thead>
        <tbody>
          <tr>
            <td><code>API Key</code></td>
            <td>Your Prompt Kaizen API key</td>
            <td>&mdash;</td>
          </tr>
          <tr>
            <td><code>Base URL</code></td>
            <td>API endpoint URL</td>
            <td><code>https://prompt-kaizen.lococo.ai/api</code></td>
          </tr>
        </tbody>
      </table>

      <h2 id="operations">Operations</h2>

      <h3 id="get-prompt">Get Prompt</h3>
      <p>Retrieve and render a prompt with version control support. Supports static and template-based prompts.</p>

      <table>
        <thead>
          <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
        </thead>
        <tbody>
          <tr>
            <td><code>Prompt</code></td>
            <td>Dropdown</td>
            <td>Yes</td>
            <td>Select a prompt from your workspace (loaded dynamically)</td>
          </tr>
          <tr>
            <td><code>Version Selection</code></td>
            <td>Dropdown</td>
            <td>Yes</td>
            <td>How to select the version: <strong>Latest Version</strong>, <strong>Specific Version</strong>, or <strong>By Tag</strong></td>
          </tr>
          <tr>
            <td><code>Version</code></td>
            <td>Dropdown</td>
            <td>When <em>Specific Version</em></td>
            <td>Select a specific version from the prompt's history</td>
          </tr>
          <tr>
            <td><code>Tag</code></td>
            <td>Dropdown</td>
            <td>When <em>By Tag</em></td>
            <td>Select a tagged version (e.g., "production", "staging")</td>
          </tr>
          <tr>
            <td><code>Context Variables</code></td>
            <td>JSON</td>
            <td>No</td>
            <td>Variables for template rendering. Defaults to the input item's JSON (<code>{{ $json }}</code>)</td>
          </tr>
        </tbody>
      </table>

      <h3>Version Selection Strategies</h3>
      <ul>
        <li><strong>Latest Version</strong> &mdash; Always fetches the most recent version. Good for development and testing.</li>
        <li><strong>Specific Version</strong> &mdash; Pins to an exact version. Use for stable, production-locked workflows.</li>
        <li><strong>By Tag</strong> &mdash; Fetches the version associated with a tag. Tag versions like <code>production</code> or <code>staging</code> to control rollouts without changing the workflow.</li>
      </ul>

      <h3>Template Rendering</h3>
      <p>If the prompt's content type is <code>template</code>, context variables are sent to the server for rendering. The API uses these variables to replace placeholders in the prompt content.</p>
      <pre><code>{
  "customer_name": "Acme Corp",
  "product": "Widget Pro",
  "tone": "professional"
}</code></pre>

      <h3>Response</h3>
      <table>
        <thead>
          <tr><th>Field</th><th>Type</th><th>Description</th></tr>
        </thead>
        <tbody>
          <tr><td><code>prompt_id</code></td><td>string</td><td>The prompt's unique ID</td></tr>
          <tr><td><code>version_id</code></td><td>string</td><td>The resolved version ID</td></tr>
          <tr><td><code>version</code></td><td>string</td><td>The version string (e.g., "1.2.0")</td></tr>
          <tr><td><code>content_type</code></td><td>string</td><td><code>static</code> or <code>template</code></td></tr>
          <tr><td><code>prompt_type</code></td><td>string</td><td><code>system</code> or <code>user</code></td></tr>
          <tr><td><code>content</code></td><td>string</td><td>The rendered prompt content (templates resolved)</td></tr>
          <tr><td><code>raw_content</code></td><td>string</td><td>The original template content before rendering</td></tr>
          <tr><td><code>variables</code></td><td>string[]</td><td>List of template variables defined in the prompt</td></tr>
          <tr><td><code>context_used</code></td><td>object</td><td>The context variables that were passed for rendering</td></tr>
        </tbody>
      </table>

      <h3 id="submit-feedback">Submit Feedback</h3>
      <p>Submit feedback for a specific prompt version. Enables continuous improvement loops by collecting ratings, comments, and test scenarios.</p>

      <table>
        <thead>
          <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
        </thead>
        <tbody>
          <tr>
            <td><code>Prompt</code></td>
            <td>Dropdown</td>
            <td>Yes</td>
            <td>Select the prompt to submit feedback for</td>
          </tr>
          <tr>
            <td><code>Version</code></td>
            <td>Dropdown</td>
            <td>Yes</td>
            <td>Select the version to rate</td>
          </tr>
          <tr>
            <td><code>Rating</code></td>
            <td>Number</td>
            <td>Yes</td>
            <td>Rating from 1 to 5 (integer)</td>
          </tr>
          <tr>
            <td><code>Comment</code></td>
            <td>String</td>
            <td>No</td>
            <td>Free-text feedback comment</td>
          </tr>
          <tr>
            <td><code>Test Input</code></td>
            <td>String</td>
            <td>No</td>
            <td>The input used in the test scenario</td>
          </tr>
          <tr>
            <td><code>Test Actual Output</code></td>
            <td>String</td>
            <td>No</td>
            <td>The actual output from the AI using this prompt</td>
          </tr>
          <tr>
            <td><code>Test Expected Output</code></td>
            <td>String</td>
            <td>No</td>
            <td>The expected/desired output for comparison</td>
          </tr>
        </tbody>
      </table>

      <h3>Response</h3>
      <table>
        <thead>
          <tr><th>Field</th><th>Type</th><th>Description</th></tr>
        </thead>
        <tbody>
          <tr><td><code>feedback_id</code></td><td>string</td><td>The created feedback's unique ID</td></tr>
        </tbody>
      </table>

      <h2 id="usage">Usage Examples</h2>

      <h3>Get Prompt Workflow</h3>
      <p>Fetch the latest version of a prompt and pass it to an AI model:</p>
      <pre><code>Trigger &rarr; Prompt Kaizen (Get Prompt) &rarr; OpenAI Chat &rarr; ...</code></pre>
      <p>The <code>content</code> output contains the rendered prompt text, ready to use as a system or user message.</p>

      <h3>Submit Feedback Workflow</h3>
      <p>Automatically collect feedback after AI processing:</p>
      <pre><code>Trigger &rarr; Prompt Kaizen (Get Prompt) &rarr; OpenAI Chat &rarr; Evaluate &rarr; Prompt Kaizen (Submit Feedback)</code></pre>
      <p>Feed the AI's output and an evaluation score back into Prompt Kaizen to build a continuous improvement loop.</p>

      <h3>Template Rendering with Context</h3>
      <p>For template prompts, pass dynamic data as context variables:</p>
      <pre><code>// Input item JSON (automatically used as context)
{
  "customer_name": "Acme Corp",
  "issue_type": "billing",
  "priority": "high"
}

// Template prompt content (server-side)
"You are a support agent helping {{customer_name}}
with a {{priority}} priority {{issue_type}} issue."

// Rendered output
"You are a support agent helping Acme Corp
with a high priority billing issue."</code></pre>

      <h2 id="compatibility">Compatibility</h2>
      <table>
        <thead>
          <tr><th>Requirement</th><th>Value</th></tr>
        </thead>
        <tbody>
          <tr><td>Minimum n8n version</td><td>1.0.0</td></tr>
          <tr><td>Tested with</td><td>n8n 1.0.0+</td></tr>
          <tr><td>Node package</td><td><code>@lococo-ai/n8n-nodes-prompt-kaizen</code></td></tr>
        </tbody>
      </table>

      <h2 id="resources">Resources</h2>
      <ul>
        <li><a href="https://prompt-kaizen.lococo.ai">Prompt Kaizen</a> &mdash; Sign up and manage your prompts</li>
        <li><a href="https://github.com/Lococo-AI/n8n-nodes-prompt-kaizen">GitHub Repository</a> &mdash; Source code and issues</li>
        <li><a href="https://www.npmjs.com/package/@lococo-ai/n8n-nodes-prompt-kaizen">npm Package</a></li>
        <li><a href="https://docs.n8n.io/integrations/#community-nodes">n8n Community Nodes</a> &mdash; General documentation</li>
      </ul>

    </div>
  </section>

  <!-- Footer -->
  <footer class="footer container">
    <p>Built by <a href="https://elbtech.dev">elbtech GmbH</a></p>
  </footer>

</body>
</html>
